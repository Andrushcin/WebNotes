{% extends './../layout.html' %}
{% load static %}
{% block content %}

<div class="m-3 px-2 col-xs-12 col-sm-11 col-md-10 col-lg-9 col-xl-7 mx-auto d-flex flex-column">
    <div class="my-2 p-2 d-flex flex-row justify-content-between align-items-center border border-warning rounded">
        <a href='new' class="btn btn-outline-dark btn-sm me-2"><i class="fa-solid fa-plus"></i></a>

        <div class="dropdown">
            <button class="btn btn-outline-dark btn-sm dropdown-toggle" type="button" id="type-sort-menu" data-bs-toggle="dropdown" aria-expanded="false">
                Сортировать по
            </button>
            <ul class="dropdown-menu" aria-labelledby="type-sort-menu">
                <li><a class="dropdown-item" href="?sort=date_update">Обновлены недавно</a></li>
                <li><a class="dropdown-item" href="?sort=-date_update">Обновлены давно</a></li>
                <li><a class="dropdown-item" href="?sort=date_create">Созданы недавно</a></li>
                <li><a class="dropdown-item" href="?sort=-date_create">Созданы давно</a></li>
            </ul>
        </div>

    </div>

{% for note in notes %}
    <div class="my-1 p-2 d-flex flex-row align-items-center border border-dark rounded">
        <!--<a href={{ note.id }} class="flex-grow-1 text-break" style="text-decoration: none">{{ note.name }}</a>-->
        {% if note.favourites == True %}
            <div class="star me-2"></div>
        {% endif %}
        <a class="flex-grow-1 text-break text-dark ms-2" style="text-decoration: none" href={% url 'notes:note' note.id %}>{{ note.name }}</a>

        <form method="post" action="{% url 'notes:change_favourites' note.id %}" class="ms-2">
            {% csrf_token %}
            <button type="submit" style="border: none; background: none"><a href=""><i class="fa-regular fa-star"></i></a></button>
        </form>

        <a href={% url 'notes:note' note.id %} class="ms-2"><i class="fa-regular fa-pen-to-square"></i></a>

        <form method="post" action="{% url 'notes:delete' note.id %}" class="ms-2">
            {% csrf_token %}
            <button type="submit" style="border: none; background: none"><a href=""><i class="fa-regular fa-trash-can"></i></a></button>
        </form>
    </div>

    

{% endfor %}
</div>

<style>
    .star {
        width: 20px;
        height: 20px;
        background-repeat: no-repeat;
        background-size: contain;
        background-image: url("{% static 'icons/star.png' %}");
    }
</style>
{% endblock %}